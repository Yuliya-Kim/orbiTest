const X={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":.3048006096012192};class Pn{constructor(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||X[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(r){this.defaultTileGrid_=r}setExtent(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)}setWorldExtent(r){this.worldExtent_=r}setGetPointResolution(r){this.getPointResolutionFunc_=r}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var nn=Pn;const O=6378137,R=Math.PI*O,yn=[-R,-R,R,R],Cn=[-180,-85,180,85],F=O*Math.log(Math.tan(Math.PI/2));class C extends nn{constructor(r){super({code:r,units:"m",extent:yn,global:!0,worldExtent:Cn,getPointResolution:function(t,s){return t/Math.cosh(s[1]/O)}})}}const z=[new C("EPSG:3857"),new C("EPSG:102100"),new C("EPSG:102113"),new C("EPSG:900913"),new C("http://www.opengis.net/def/crs/EPSG/0/3857"),new C("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Rn(n,r,t){const s=n.length;t=t>1?t:2,r===void 0&&(t>2?r=n.slice():r=new Array(s));for(let a=0;a<s;a+=t){r[a]=R*n[a]/180;let i=O*Math.log(Math.tan(Math.PI*(+n[a+1]+90)/360));i>F?i=F:i<-F&&(i=-F),r[a+1]=i}return r}function Tn(n,r,t){const s=n.length;t=t>1?t:2,r===void 0&&(t>2?r=n.slice():r=new Array(s));for(let a=0;a<s;a+=t)r[a]=180*n[a]/R,r[a+1]=360*Math.atan(Math.exp(n[a+1]/O))/Math.PI-90;return r}const Sn=6378137,K=[-180,-90,180,90],_n=Math.PI*Sn/180;class w extends nn{constructor(r,t){super({code:r,units:"degrees",extent:K,axisOrientation:t,global:!0,metersPerUnit:_n,worldExtent:K})}}const J=[new w("CRS:84"),new w("EPSG:4326","neu"),new w("urn:ogc:def:crs:OGC:1.3:CRS84"),new w("urn:ogc:def:crs:OGC:2:84"),new w("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new w("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new w("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let G={};function Un(n){return G[n]||G[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function On(n,r){G[n]=r}let T={};function S(n,r,t){const s=n.getCode(),a=r.getCode();s in T||(T[s]={}),T[s][a]=t}function In(n,r){let t;return n in T&&r in T[n]&&(t=T[n][r]),t}var g={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Fn(n){const r=N();for(let t=0,s=n.length;t<s;++t)b(r,n[t]);return r}function Xn(n,r,t){const s=Math.min.apply(null,n),a=Math.min.apply(null,r),i=Math.max.apply(null,n),e=Math.max.apply(null,r);return I(s,a,i,e,t)}function Gn(n,r,t){return t?(t[0]=n[0]-r,t[1]=n[1]-r,t[2]=n[2]+r,t[3]=n[3]+r,t):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function An(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function Wn(n,r,t){let s,a;return r<n[0]?s=n[0]-r:n[2]<r?s=r-n[2]:s=0,t<n[1]?a=n[1]-t:n[3]<t?a=t-n[3]:a=0,s*s+a*a}function Nn(n,r){return rn(n,r[0],r[1])}function bn(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function rn(n,r,t){return n[0]<=r&&r<=n[2]&&n[1]<=t&&t<=n[3]}function A(n,r){const t=n[0],s=n[1],a=n[2],i=n[3],e=r[0],c=r[1];let o=g.UNKNOWN;return e<t?o=o|g.LEFT:e>a&&(o=o|g.RIGHT),c<s?o=o|g.BELOW:c>i&&(o=o|g.ABOVE),o===g.UNKNOWN&&(o=g.INTERSECTING),o}function N(){return[1/0,1/0,-1/0,-1/0]}function I(n,r,t,s,a){return a?(a[0]=n,a[1]=r,a[2]=t,a[3]=s,a):[n,r,t,s]}function _(n){return I(1/0,1/0,-1/0,-1/0,n)}function qn(n,r){const t=n[0],s=n[1];return I(t,s,t,s,r)}function Ln(n,r){const t=_(r);return q(t,n)}function Yn(n,r,t,s,a){const i=_(a);return tn(i,n,r,t,s)}function Bn(n,r){const t=_(r);return sn(t,n)}function Dn(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function $n(n,r,t){return Math.abs(n[0]-r[0])<t&&Math.abs(n[2]-r[2])<t&&Math.abs(n[1]-r[1])<t&&Math.abs(n[3]-r[3])<t}function pn(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function b(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function q(n,r){for(let t=0,s=r.length;t<s;++t)b(n,r[t]);return n}function tn(n,r,t,s,a){for(;t<s;t+=a)an(n,r[t],r[t+1]);return n}function sn(n,r){for(let t=0,s=r.length;t<s;++t)q(n,r[t]);return n}function an(n,r,t){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],t)}function Vn(n,r){let t;return t=r(L(n)),t||(t=r(Y(n)),t)||(t=r($(n)),t)||(t=r(D(n)),t)?t:!1}function on(n){let r=0;return p(n)||(r=E(n)*B(n)),r}function L(n){return[n[0],n[1]]}function Y(n){return[n[2],n[1]]}function en(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Hn(n,r){let t;if(r==="bottom-left")t=L(n);else if(r==="bottom-right")t=Y(n);else if(r==="top-left")t=D(n);else if(r==="top-right")t=$(n);else throw new Error("Invalid corner");return t}function vn(n,r){const t=Math.min(n[0],r[0]),s=Math.min(n[1],r[1]),a=Math.max(n[2],r[2]),i=Math.max(n[3],r[3]);return(a-t)*(i-s)}function zn(n,r,t,s,a){const[i,e,c,o,f,u,h,l]=cn(n,r,t,s);return I(Math.min(i,c,f,h),Math.min(e,o,u,l),Math.max(i,c,f,h),Math.max(e,o,u,l),a)}function cn(n,r,t,s){const a=r*s[0]/2,i=r*s[1]/2,e=Math.cos(t),c=Math.sin(t),o=a*e,f=a*c,u=i*e,h=i*c,l=n[0],d=n[1];return[l-o+h,d-f-u,l-o-h,d-f+u,l+o-h,d+f+u,l+o+h,d+f-u,l-o+h,d-f-u]}function B(n){return n[3]-n[1]}function Kn(n,r){const t=fn(n,r);return on(t)}function fn(n,r,t){const s=t||N();return un(n,r)?(n[0]>r[0]?s[0]=n[0]:s[0]=r[0],n[1]>r[1]?s[1]=n[1]:s[1]=r[1],n[2]<r[2]?s[2]=n[2]:s[2]=r[2],n[3]<r[3]?s[3]=n[3]:s[3]=r[3]):_(s),s}function Jn(n){return E(n)+B(n)}function Zn(n){return[n[2]-n[0],n[3]-n[1]]}function D(n){return[n[0],n[3]]}function $(n){return[n[2],n[3]]}function E(n){return n[2]-n[0]}function un(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function p(n){return n[2]<n[0]||n[3]<n[1]}function Qn(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function kn(n,r){const t=(n[2]-n[0])/2*(r-1),s=(n[3]-n[1])/2*(r-1);n[0]-=t,n[2]+=t,n[1]-=s,n[3]+=s}function jn(n,r,t){let s=!1;const a=A(n,r),i=A(n,t);if(a===g.INTERSECTING||i===g.INTERSECTING)s=!0;else{const e=n[0],c=n[1],o=n[2],f=n[3],u=r[0],h=r[1],l=t[0],d=t[1],M=(d-h)/(l-u);let P,y;!!(i&g.ABOVE)&&!(a&g.ABOVE)&&(P=l-(d-f)/M,s=P>=e&&P<=o),!s&&!!(i&g.RIGHT)&&!(a&g.RIGHT)&&(y=d-(l-o)*M,s=y>=c&&y<=f),!s&&!!(i&g.BELOW)&&!(a&g.BELOW)&&(P=l-(d-c)/M,s=P>=e&&P<=o),!s&&!!(i&g.LEFT)&&!(a&g.LEFT)&&(y=d-(l-e)*M,s=y>=c&&y<=f)}return s}function ln(n,r,t,s){if(p(n))return _(t);let a=[];if(s>1){const c=n[2]-n[0],o=n[3]-n[1];for(let f=0;f<s;++f)a.push(n[0]+c*f/s,n[1],n[2],n[1]+o*f/s,n[2]-c*f/s,n[3],n[0],n[3]-o*f/s)}else a=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];r(a,a,2);const i=[],e=[];for(let c=0,o=a.length;c<o;c+=2)i.push(a[c]),e.push(a[c+1]);return Xn(i,e,t)}function hn(n,r){const t=r.getExtent(),s=en(n);if(r.canWrapX()&&(s[0]<t[0]||s[0]>=t[2])){const a=E(t),e=Math.floor((s[0]-t[0])/a)*a;n[0]-=e,n[2]-=e}return n}function xn(n,r){if(r.canWrapX()){const t=r.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[t[0],n[1],t[2],n[3]]];hn(n,r);const s=E(t);if(E(n)>s)return[[t[0],n[1],t[2],n[3]]];if(n[0]<t[0])return[[n[0]+s,n[1],t[2],n[3]],[t[0],n[1],n[2],n[3]]];if(n[2]>t[2])return[[n[0],n[1],t[2],n[3]],[t[0],n[1],n[2]-s,n[3]]]}return[n]}var fr=Object.freeze(Object.defineProperty({__proto__:null,boundingExtent:Fn,buffer:Gn,clone:An,closestSquaredDistanceXY:Wn,containsCoordinate:Nn,containsExtent:bn,containsXY:rn,coordinateRelationship:A,createEmpty:N,createOrUpdate:I,createOrUpdateEmpty:_,createOrUpdateFromCoordinate:qn,createOrUpdateFromCoordinates:Ln,createOrUpdateFromFlatCoordinates:Yn,createOrUpdateFromRings:Bn,equals:Dn,approximatelyEquals:$n,extend:pn,extendCoordinate:b,extendCoordinates:q,extendFlatCoordinates:tn,extendRings:sn,extendXY:an,forEachCorner:Vn,getArea:on,getBottomLeft:L,getBottomRight:Y,getCenter:en,getCorner:Hn,getEnlargedArea:vn,getForViewAndSize:zn,getRotatedViewport:cn,getHeight:B,getIntersectionArea:Kn,getIntersection:fn,getMargin:Jn,getSize:Zn,getTopLeft:D,getTopRight:$,getWidth:E,intersects:un,isEmpty:p,returnOrUpdate:Qn,scaleFromCenter:kn,intersectsSegment:jn,applyTransform:ln,wrapX:hn,wrapAndSliceX:xn},Symbol.toStringTag,{value:"Module"}));function Z(n,r,t){return Math.min(Math.max(n,r),t)}function ur(n,r,t,s,a,i){const e=a-t,c=i-s;if(e!==0||c!==0){const o=((n-t)*e+(r-s)*c)/(e*e+c*c);o>1?(t=a,s=i):o>0&&(t+=e*o,s+=c*o)}return nr(n,r,t,s)}function nr(n,r,t,s){const a=t-n,i=s-r;return a*a+i*i}function lr(n){const r=n.length;for(let s=0;s<r;s++){let a=s,i=Math.abs(n[s][s]);for(let c=s+1;c<r;c++){const o=Math.abs(n[c][s]);o>i&&(i=o,a=c)}if(i===0)return null;const e=n[a];n[a]=n[s],n[s]=e;for(let c=s+1;c<r;c++){const o=-n[c][s]/n[s][s];for(let f=s;f<r+1;f++)s==f?n[c][f]=0:n[c][f]+=o*n[s][f]}}const t=new Array(r);for(let s=r-1;s>=0;s--){t[s]=n[s][r]/n[s][s];for(let a=s-1;a>=0;a--)n[a][r]-=n[a][s]*t[s]}return t}function Q(n){return n*180/Math.PI}function U(n){return n*Math.PI/180}function hr(n,r){const t=n%r;return t*r<0?t+r:t}function gr(n,r,t){return n+t*(r-n)}function V(n,r){const t=Math.pow(10,r);return Math.round(n*t)/t}function dr(n,r){return Math.round(V(n,r))}function Er(n,r){return Math.floor(V(n,r))}function Mr(n,r){return Math.ceil(V(n,r))}function mr(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function wr(n,r){const t=r.getRadius(),s=r.getCenter(),a=s[0],i=s[1],e=n[0],c=n[1];let o=e-a;const f=c-i;o===0&&f===0&&(o=1);const u=Math.sqrt(o*o+f*f),h=a+t*o/u,l=i+t*f/u;return[h,l]}function rr(n,r){const t=n[0],s=n[1],a=r[0],i=r[1],e=a[0],c=a[1],o=i[0],f=i[1],u=o-e,h=f-c,l=u===0&&h===0?0:(u*(t-e)+h*(s-c))/(u*u+h*h||0);let d,M;return l<=0?(d=e,M=c):l>=1?(d=o,M=f):(d=e+l*u,M=c+l*h),[d,M]}function tr(n,r){let t=!0;for(let s=n.length-1;s>=0;--s)if(n[s]!=r[s]){t=!1;break}return t}function Pr(n,r){const t=Math.cos(r),s=Math.sin(r),a=n[0]*t-n[1]*s,i=n[1]*t+n[0]*s;return n[0]=a,n[1]=i,n}function yr(n,r){return n[0]*=r,n[1]*=r,n}function gn(n,r){const t=n[0]-r[0],s=n[1]-r[1];return t*t+s*s}function Cr(n,r){return Math.sqrt(gn(n,r))}function Rr(n,r){return gn(n,rr(n,r))}function Tr(n,r){if(r.canWrapX()){const t=E(r.getExtent()),s=dn(n,r,t);s&&(n[0]-=s*t)}return n}function dn(n,r,t){const s=r.getExtent();let a=0;return r.canWrapX()&&(n[0]<s[0]||n[0]>s[2])&&(t=t||E(s),a=Math.floor((n[0]-s[0])/t)),a}const En=63710088e-1;function k(n,r,t){t=t||En;const s=U(n[1]),a=U(r[1]),i=(a-s)/2,e=U(r[0]-n[0])/2,c=Math.sin(i)*Math.sin(i)+Math.sin(e)*Math.sin(e)*Math.cos(s)*Math.cos(a);return 2*t*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function Sr(n,r,t,s){s=s||En;const a=U(n[1]),i=U(n[0]),e=r/s,c=Math.asin(Math.sin(a)*Math.cos(e)+Math.cos(a)*Math.sin(e)*Math.cos(t)),o=i+Math.atan2(Math.sin(t)*Math.sin(e)*Math.cos(a),Math.cos(e)-Math.sin(a)*Math.sin(c));return[Q(o),Q(c)]}const Mn={info:1,warn:2,error:3,none:4};let sr=Mn.info;function ar(...n){sr>Mn.warn||console.warn(...n)}let W=!0;function _r(n){W=!(n===void 0?!0:n)}function H(n,r){if(r!==void 0){for(let t=0,s=n.length;t<s;++t)r[t]=n[t];r=r}else r=n.slice();return r}function mn(n,r){if(r!==void 0&&n!==r){for(let t=0,s=n.length;t<s;++t)r[t]=n[t];n=r}return n}function ir(n){On(n.getCode(),n),S(n,n,H)}function or(n){n.forEach(ir)}function m(n){return typeof n=="string"?Un(n):n||null}function Ur(n,r,t,s){n=m(n);let a;const i=n.getPointResolutionFunc();if(i){if(a=i(r,t),s&&s!==n.getUnits()){const e=n.getMetersPerUnit();e&&(a=a*e/X[s])}}else{const e=n.getUnits();if(e=="degrees"&&!s||s=="degrees")a=r;else{const c=v(n,m("EPSG:4326"));if(c===mn&&e!=="degrees")a=r*n.getMetersPerUnit();else{let f=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];f=c(f,f,2);const u=k(f.slice(0,2),f.slice(2,4)),h=k(f.slice(4,6),f.slice(6,8));a=(u+h)/2}const o=s?X[s]:n.getMetersPerUnit();o!==void 0&&(a/=o)}}return a}function j(n){or(n),n.forEach(function(r){n.forEach(function(t){r!==t&&S(r,t,H)})})}function er(n,r,t,s){n.forEach(function(a){r.forEach(function(i){S(a,i,t),S(i,a,s)})})}function Or(n,r){return n?typeof n=="string"?m(n):n:m(r)}function x(n){return function(r,t,s){const a=r.length;s=s!==void 0?s:2,t=t!==void 0?t:new Array(a);for(let i=0;i<a;i+=s){const e=n(r.slice(i,i+s)),c=e.length;for(let o=0,f=s;o<f;++o)t[i+o]=o>=c?r[i+o]:e[o]}return t}}function Ir(n,r,t,s){const a=m(n),i=m(r);S(a,i,x(t)),S(i,a,x(s))}function Fr(n,r){if(n===r)return!0;const t=n.getUnits()===r.getUnits();return(n.getCode()===r.getCode()||v(n,r)===H)&&t}function v(n,r){const t=n.getCode(),s=r.getCode();let a=In(t,s);return a||(a=mn),a}function wn(n,r){const t=m(n),s=m(r);return v(t,s)}function Xr(n,r,t){return wn(r,t)(n,void 0,n.length)}function Gr(n,r,t,s){const a=wn(r,t);return ln(n,a,void 0,s)}function Ar(n,r){return n}function Wr(n,r){return W&&!tr(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(W=!1,ar("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function Nr(n,r){return n}function br(n,r){return n}function qr(n,r){return n}function Lr(n,r,t){return function(s){let a,i;if(n.canWrapX()){const e=n.getExtent(),c=E(e);s=s.slice(0),i=dn(s,n,c),i&&(s[0]=s[0]-i*c),s[0]=Z(s[0],e[0],e[2]),s[1]=Z(s[1],e[1],e[3]),a=t(s)}else a=t(s);return i&&r.canWrapX()&&(a[0]+=i*E(r.getExtent())),a}}function cr(){j(z),j(J),er(J,z,Rn,Tn)}cr();export{j as $,Z as A,U as B,Fn as C,qr as D,br as E,Nr as F,mn as G,v as H,E as I,Or as J,Wr as K,Pr as L,mr as M,Ar as N,zn as O,nn as P,tr as Q,X as R,_r as S,Tr as T,fn as U,yr as V,Dn as W,An as X,ar as Y,ir as Z,In as _,_ as a,Ir as a0,Lr as a1,D as a2,$ as a3,Y as a4,L as a5,on as a6,b as a7,Xr as a8,Ur as a9,Nn as aa,lr as ab,Mr as ac,Er as ad,Hn as ae,ln as af,xn as ag,Gn as ah,dr as ai,cn as aj,A as ak,g as al,V as am,hn as an,kn as ao,k as ap,gn as aq,Cr as ar,rr as as,Rr as at,wr as au,fr as av,B as b,N as c,wn as d,Yn as e,en as f,m as g,I as h,un as i,Vn as j,Wn as k,pn as l,gr as m,ur as n,tn as o,bn as p,jn as q,Qn as r,nr as s,qn as t,rn as u,p as v,Sr as w,hr as x,Fr as y,Gr as z};
