import{c as G,a as J}from"./render.4494c7b3.js";import{i as O,A as d,B as S,X as B,c as x,s as W,g as P,j as g,o as V,a1 as n,b as R,ab as H,aa as c,a2 as U,a3 as a,a4 as f}from"./index.44fc3779.js";import{u as F}from"./observer.d36fc32b.js";import{a8 as C}from"./proj.d3516240.js";var N=G({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(m,{slots:o}){const{proxy:{$q:l}}=P(),t=O(S,d);if(t===d)return console.error("QPage needs to be a deep child of QLayout"),d;if(O(B,d)===d)return console.error("QPage needs to be child of QPageContainer"),d;const A=x(()=>{const r=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof m.styleFn=="function"){const h=t.isContainer.value===!0?t.containerHeight.value:l.screen.height;return m.styleFn(r,h)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-r+"px":l.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":l.screen.height-r+"px"}}),y=x(()=>`q-page${m.padding===!0?" q-layout-padding":""}`);return()=>W("main",{class:y.value,style:A.value},J(o.default))}}),T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEFUlEQVR4nO2aXYhVVRTHj6KiNupojjTUQ+DHKJhUJL4EMxnSB4UopaJPvgpKL6Jlwaj1YEhvFaVBPUihZJIEoT5IGA7jJ5mICqKI4BeOMzU6Wc4v1tz/wc293rPPnbN33Yn+cGC457//a62z915rf0yS/I9KAOOB5cA2oBO4DtzTc12/fQ4sA8Yl9QagBfgCuEN+9ALbgen1EMBYYCvwp5zr11ffALQqwEf0tOi3d4Ej4qLe+hAY/W8FMR04JWfuAzuAqTW0nwZ87QR0GGiO63WlE89ozBvOAs8W0HoOOCety8CcsN5m90QaxD5gYgDNScB+J5jmf2JOnHKCGBFQeyRwwBlm8eaMJnY6nCZG0J8EnJeNjaH1UyMtyk73i8yJHHbmKgH8DjwWw4DVCcOO4OKVtr6RrU9iVOxefSlvigWmAJuBE/qy9hwHNgFNORNKv9o1hAzElh2GzhzcN4CejIreDSzOoXNU/KUhA7G1k2FDjiDSAvedKnla2duAPU4BXeTRek/cz0IGYssOQ6tnOKU9sTaDt06c28DkDN4L4nWEiCEVvSHRGRmczWlP5ND73pdigRniXCvie7noHxKtuvQGTvp67SFf+3gGZ5w4fUV8Lxe9K9Gq1Rb4TRxvlnGc7PGsIgx3ivheLnp1QDKjQDnzoyFnOjd0Z3AeF+dKEd/LRc9IdHYGx2qGoS2H3nxxj2Vwnhbn1yK+l4vuleiSDI4VO8OeGvTaMzgrxNldxPdy0Q8k+n4Gp0nFzrAug/e2OF3Aoxm8Lb5ga4b1hEQPeHiLVexQirXs1KBnvtMTxlno0Tok7sKQgUyR8T7LJh7uIhW7aujKEUSjVtr2TAgWiMRt0Wd4NQd3shU7m8xKyz1aO7VnDacUwJuydSgJDadyfxlcvNLWt765VkR8Zpr7fcOroJ0JKsC2+HwylhEbKoYVUQwkAzZWy8bBJKKRVTJyOJL+COCCbCyPYSM11OBkpLkR9JdJ+4qdqoTWLzf2kYztijh03wmt/TBjzc5kfCqg7gIFYT3eGErXZ/Tj0L1ik5uY51lVjD7hnKo8H0DPVgOGmzEO/nzGrUqjij+8gM4o5xB7VVgv8zkwBrgoB1YW0FkrjdMhz5IHe95lO8jxg2jf5KTzl+J4mc+RYcDPcmTrINp/pbZ743hY+6WPXZ/9Bcyrod3LCqK3lpuuqHC2uWfy3GvoFOWS2qxJ6gWUMs8vvu2ww/803W8UyXhRoFOPe9pJtnmGVL92m7OSegSlXSFKy41VtszXxHkrqVdQWob/JEd3W1Zz3g0HftS7H9x3dQlKy5cb5dcQzlb5apQrtRgAXtc8sPnyCvCa/rYU/WIylMCDtdgtHQEZ1idDDZSq/k4FUDFnhhQoFb4O/QNAuEvN5D+MvwHicecgMX2K0wAAAABJRU5ErkJggg==";const b={style:{height:"calc(100vh - 50px)"}},Y={__name:"IndexPage",setup(m){const o=F(),l=g(null),t=g(),v=g([0,0]),A=g(0),y=g(10),r=g("EPSG:3857");function h(e,p){const s=Math.abs(e);return{degrees:Math.trunc(s),minutes:Math.trunc(s%1*60),seconds:Math.trunc(s%1*60%1*60),hemisphere:p==="lat"?e<0?"S":"N":e<0?"W":"E"}}function E(e){return e=e%360,e<-180&&(e+=360),e>180&&(e-=360),e}return V(()=>{var p;const e=(p=l.value)==null?void 0:p.map;e.getViewport().addEventListener("contextmenu",function(s){s.preventDefault();const _=C(e.getEventCoordinate(s),"EPSG:3857","EPSG:4326"),i=h(_[1],"lat"),u=h(E(_[0]),"lng");o.latitude.degrees=i.degrees,o.latitude.minutes=i.minutes,o.latitude.seconds=i.seconds,o.latitude.hemisphere=i.hemisphere,o.longitude.degrees=u.degrees,o.longitude.minutes=u.minutes,o.longitude.seconds=u.seconds,o.longitude.hemisphere=u.hemisphere})}),(e,p)=>{const s=n("ol-view"),_=n("ol-source-osm"),i=n("ol-tile-layer"),u=n("ol-geom-point"),D=n("ol-style-icon"),z=n("ol-style"),K=n("ol-feature"),Q=n("ol-source-vector"),j=n("ol-vector-layer"),w=n("ol-map");return R(),H(N,null,{default:c(()=>[U("div",b,[a(w,{ref_key:"mapRef",ref:l,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,class:"map"},{default:c(()=>[a(s,{ref_key:"view",ref:t,center:v.value,rotation:A.value,zoom:y.value,projection:r.value},null,8,["center","rotation","zoom","projection"]),a(i,{className:"map__map-source-layer"},{default:c(()=>[a(_)]),_:1}),a(j,null,{default:c(()=>[a(Q,null,{default:c(()=>[a(K,null,{default:c(()=>[a(u,{coordinates:f(C)([f(o).positionDD.longitude,f(o).positionDD.latitude],"EPSG:4326","EPSG:3857")},null,8,["coordinates"]),a(z,null,{default:c(()=>[a(D,{src:f(T),scale:.8,anchor:[0,-1]},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)])]),_:1})}}};export{Y as default};
